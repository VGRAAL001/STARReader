@using Syncfusion.Blazor;
@using Syncfusion.Blazor.SfPdfViewer;
@using Syncfusion;

<SfPdfViewer2 DocumentPath="@path"
              Height="640px"
              Width="100%"
              EnableToolbar="true"
              EnableNavigationToolbar="false"
              EnableTextSelection="true"
              EnableDownload="false"
              EnablePrint="false">
    <Syncfusion.Blazor.SfPdfViewer.PdfViewerEvents OnTextSelectionEnd="OnTextSelectionEnd">   </Syncfusion.Blazor.SfPdfViewer.PdfViewerEvents>
</SfPdfViewer2>

@code {
    private string selectedText = "";

    [Parameter]

    public string? SelectedText { get; set; }

    [Parameter]

    public EventCallback<string?> SelectedTextChanged { get; set; }

    public async Task OnTextSelectionEnd(TextSelectionEndEventArgs args)
    {

        selectedText = args.TextContent;

        SelectedText = selectedText;

        await SelectedTextChanged.InvokeAsync(SelectedText);

    }

    private string path
    {
        get
        {
            var physicalPath = Path.Combine(Directory.GetCurrentDirectory(), "wwwroot", "Document", "InitialDisplay.pdf");

            return physicalPath;

        }

    }
}
